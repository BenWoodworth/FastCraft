allprojects{
    ext {
        plugin_id = "fastcraft"
        plugin_name = "FastCraft"
        plugin_author = "Kepler"
        plugin_description = "Redefines crafting in Minecraft"
        plugin_website = "https://github.com/BenWoodworth/FastCraft"
        
        version_java = "1.6"
        version_kotlin = "1.3.31"
        version_kotlin_serialization = "0.10.0"
        version_dagger = "2.17"
        version_auto_factory = "0.1-beta1"
        version_jsr250 = "1.0"
        version_javax_inject = "1"
        version_shadow = "4.0.2"
        version_bstats = "1.3"

        dependency_kotlin_gradle_plugin = "org.jetbrains.kotlin:kotlin-gradle-plugin:$version_kotlin"
        dependency_kotlin_stdlib = "org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin"
        dependency_kotlin_runtime = "org.jetbrains.kotlin:kotlin-runtime:$version_kotlin"
        dependency_jsr250 = "javax.annotation:jsr250-api:$version_jsr250"
        dependency_javax_inject = "javax.inject:javax.inject:$version_javax_inject"
        dependency_dagger = "com.google.dagger:dagger:$version_dagger"
        dependency_dagger_compiler = "com.google.dagger:dagger-compiler:$version_dagger"
        dependency_auto_factory = "com.google.auto.factory:auto-factory:$version_auto_factory"
        dependency_shadow = "com.github.jengelman.gradle.plugins:shadow:$version_shadow"
        dependency_bstats_bukkit = "org.bstats:bstats-bukkit:$version_bstats"
        dependency_bstats_sponge = "org.bstats:bstats-sponge:$version_bstats"
    }
}

task build(group: "build", dependsOn: ":fastcraft:build") {
    doLast {
        copy {
            from("${project(":fastcraft").buildDir}/libs") {
                include "*.jar"
            }

            into project.buildDir
        }
    }
}

task clean(group: "build") {
    doLast {
        delete project.buildDir
    }
}
